using System;
using DevelopmentMetrics.Repository;

namespace DevelopmentMetrics.Tests
{
    public class FakeRepository : IBuildRepository
    {
        public string GetDataFor(string path)
        {
            if (path.ToLower().Contains("_root"))
            {
                return GetRoot();
            }
            else if (path.ToLower().Contains("projects"))
            {
                return GetProjectBuild();
            }
            else if (path.ToLower().Contains("buildtypes") && !path.ToLower().Contains("builds"))
            {
                return GetBuildTypes();
            }
            else if (path.ToLower().Contains("builds"))
            {
                return GetBuildDetails();
            }
            else
            {
                throw new ArgumentException("Fake Json data could not be determined from parameter supplied!");
            }
        }

        private string GetProjectBuild()
        {
            return @"{""id"":""Admin"",""name"":""Admin"",""parentProjectId"":""_Root"",""href"":""/guestAuth/app/rest/projects/id:Admin"",""webUrl"":""http://teamcity.energyhelpline.local/project.html?projectId=Admin"",""parentProject"":{""id"":""_Root"",""name"":""<Root project>"",""description"":""Contains all other projects"",""href"":""/guestAuth/app/rest/projects/id:_Root"",""webUrl"":""http://teamcity.energyhelpline.local/project.html?projectId=_Root""},""buildTypes"":{""count"":5,""buildType"":[{""id"":""Admin_00UpdateCoreNuGetPackages"",""name"":""00 - Update Core NuGet Packages"",""projectName"":""Admin"",""projectId"":""Admin"",""href"":""/guestAuth/app/rest/buildTypes/id:Admin_00UpdateCoreNuGetPackages"",""webUrl"":""http://teamcity.energyhelpline.local/viewType.html?buildTypeId=Admin_00UpdateCoreNuGetPackages""},{""id"":""MvcWebProject_Build_TrunkAdminBuild"",""name"":""01 - Build and Unit Test"",""projectName"":""Admin"",""projectId"":""Admin"",""href"":""/guestAuth/app/rest/buildTypes/id:MvcWebProject_Build_TrunkAdminBuild"",""webUrl"":""http://teamcity.energyhelpline.local/viewType.html?buildTypeId=MvcWebProject_Build_TrunkAdminBuild""},{""id"":""Admin_02DeployToDevelopment"",""name"":""02 - Deploy to Test"",""projectName"":""Admin"",""projectId"":""Admin"",""href"":""/guestAuth/app/rest/buildTypes/id:Admin_02DeployToDevelopment"",""webUrl"":""http://teamcity.energyhelpline.local/viewType.html?buildTypeId=Admin_02DeployToDevelopment""},{""id"":""Admin_03StagingPromote"",""name"":""03 - Staging Promote"",""projectName"":""Admin"",""projectId"":""Admin"",""href"":""/guestAuth/app/rest/buildTypes/id:Admin_03StagingPromote"",""webUrl"":""http://teamcity.energyhelpline.local/viewType.html?buildTypeId=Admin_03StagingPromote""},{""id"":""Admin_04ProductionPromote"",""name"":""04 - Production Promote"",""projectName"":""Admin"",""projectId"":""Admin"",""href"":""/guestAuth/app/rest/buildTypes/id:Admin_04ProductionPromote"",""webUrl"":""http://teamcity.energyhelpline.local/viewType.html?buildTypeId=Admin_04ProductionPromote""}]},""templates"":{""count"":0,""buildType"":[]},""parameters"":{""count"":4,""href"":""/app/rest/projects/id:Admin/parameters"",""property"":[{""name"":""fri_nuget_url"",""value"":""%nuget_publish_server%/nuget/default/""},{""name"":""nuget_api_key"",""value"":""ciuser:lamentabletoad""},{""name"":""nuget_org_url"",""value"":""https://www.nuget.org/api/v2/""},{""name"":""nuget_publish_server"",""value"":""http://nuget.energyhelpline.local""}]},""vcsRoots"":{""href"":""/guestAuth/app/rest/vcs-roots?locator=project:(id:Admin)""},""projects"":{""count"":0}}";
        }

        private string GetBuildTypes()
        {
            return @"{""id"":""AddressService"",""name"":""Address-Service"",""parentProjectId"":""_Root"",""href"":""/guestAuth/app/rest/projects/id:AddressService"",""webUrl"":""http://teamcity.energyhelpline.local/project.html?projectId=AddressService"",""parentProject"":{""id"":""_Root"",""name"":""<Rootproject>"",""description"":""Containsallotherprojects"",""href"":""/guestAuth/app/rest/projects/id:_Root"",""webUrl"":""http://teamcity.energyhelpline.local/project.html?projectId=_Root""},""BuildTypes"":{""count"":1,""buildType"":[{""id"":""AddressService_BuildPublish"",""name"":""Build&Publish"",""projectName"":""Address-Service"",""projectId"":""AddressService"",""href"":""/guestAuth/app/rest/BuildTypesDto/id:AddressService_BuildPublish"",""webUrl"":""http://teamcity.energyhelpline.local/viewType.html?buildTypeId=AddressService_BuildPublish""}]},""templates"":{""count"":0,""buildType"":[]},""parameters"":{""count"":4,""href"":""/app/rest/projects/id:AddressService/parameters"",""property"":[{""name"":""fri_nuget_url"",""value"":""%nuget_publish_server%/nuget/default/""},{""name"":""nuget_api_key"",""value"":""ciuser:lamentabletoad""},{""name"":""nuget_org_url"",""value"":""https://www.nuget.org/api/v2/""},{""name"":""nuget_publish_server"",""value"":""http://nuget.energyhelpline.local""}]},""vcsRoots"":{""href"":""/guestAuth/app/rest/vcs-roots?locator=project:(id:AddressService)""},""projects"":{""count"":0}}";
        }

        private string GetBuildDetails()
        {
            return
                @"{""id"":360907,""buildTypeId"":""Consumer_Funnel_31ProductionSmokeTests"",""number"":""1.0.2360"",""status"":""SUCCESS"",""state"":""finished"",""href"":""/guestAuth/app/rest/builds/id:360907"",""webUrl"":""http://teamcity.energyhelpline.local/viewLog.html?buildId=360907&buildTypeId=Consumer_Funnel_31ProductionSmokeTests"",""statusText"":""Start Funnel With a valid postcode"",""buildType"":{""id"":""Consumer_Funnel_31ProductionSmokeTests"",""name"":""31. Production - Smoke Tests"",""projectName"":""Consumer :: refresh.energyhelpline.com/domestic"",""projectId"":""Consumer_Funnel"",""href"":""/guestAuth/app/rest/BuildTypesDto/id:Consumer_Funnel_31ProductionSmokeTests"",""webUrl"":""http://teamcity.energyhelpline.local/viewType.html?buildTypeId=Consumer_Funnel_31ProductionSmokeTests""},""tags"":{""tag"":[]},""queuedDate"":""20170424T092939+0100"",""startDate"":""20170424T092940+0100"",""finishDate"":""20170424T093154+0100"",""triggered"":{""type"":""unknown"",""details"":""##triggeredByBuildType='bt129' triggeredByBuild='1.0.2360'"",""date"":""20170424T092939+0100""},""lastChanges"":{},""changes"":{""href"":""/guestAuth/app/rest/changes?locator=build:(id:360907)""},""revisions"":{""revision"":[]},""agent"":{""id"":22,""name"":""lon-devtcagent3"",""typeId"":22,""href"":""/guestAuth/app/rest/agents/id:22""},""testOccurrences"":{""count"":3,""href"":""/guestAuth/app/rest/testOccurrences?locator=build:(id:360907)"",""passed"":3,""default"":false},""artifacts"":{""href"":""/guestAuth/app/rest/builds/id:360907/artifacts/children""},""relatedIssues"":{""href"":""/guestAuth/app/rest/builds/id:360907/relatedIssues""},""properties"":{""count"":5,""property"":[{""name"":""fri_nuget_url"",""value"":""%nuget_publish_server%/nuget/default/""},{""name"":""nuget_api_key"",""value"":""ciuser:lamentabletoad""},{""name"":""nuget_org_url"",""value"":""https://www.nuget.org/api/v2/""},{""name"":""nuget_publish_server"",""value"":""http://nuget.energyhelpline.local""},{""name"":""target_env"",""value"":""Production""}]},""attributes"":{""count"":1,""entry"":[{""name"":""teamcity.cleanSources"",""value"":""true""}]},""statistics"":{""href"":""/guestAuth/app/rest/builds/id:360907/statistics""},""snapshot-dependencies"":{""count"":1,""build"":[{""id"":360906,""buildTypeId"":""Consumer_Funnel_30ProductionDeploy"",""number"":""1.0.2360"",""status"":""SUCCESS"",""state"":""finished"",""href"":""/guestAuth/app/rest/builds/id:360906"",""webUrl"":""http://teamcity.energyhelpline.local/viewLog.html?buildId=360906&buildTypeId=Consumer_Funnel_30ProductionDeploy""}]},""artifact-dependencies"":{""count"":1,""build"":[{""id"":360899,""buildTypeId"":""Consumer_Funnel_01DevelopmentBuildAndUnitTest"",""number"":""1.0.2360"",""status"":""SUCCESS"",""state"":""finished"",""href"":""/guestAuth/app/rest/builds/id:360899"",""webUrl"":""http://teamcity.energyhelpline.local/viewLog.html?buildId=360899&buildTypeId=Consumer_Funnel_01DevelopmentBuildAndUnitTest""}]}}";
        }

        private string GetRoot()
        {
            return @"{""id"":""_Root"",""name"":""<Root project>"",""description"":""Contains all other projects"",""href"":""/guestAuth/app/rest/projects/id:_Root"",""webUrl"":""http://teamcity.energyhelpline.local/project.html?projectId=_Root"",""BuildTypesDto"":{""count"":0,""buildType"":[]},""templates"":{""count"":4,""buildType"":[{""id"":""Builds"",""name"":""Builds"",""templateFlag"":true,""projectName"":""<Root project>"",""projectId"":""_Root"",""href"":""/guestAuth/app/rest/BuildTypesDto/id:Builds""},{""id"":""PriceWatch_Deployment"",""name"":""Deployment"",""templateFlag"":true,""projectName"":""<Root project>"",""projectId"":""_Root"",""href"":""/guestAuth/app/rest/BuildTypesDto/id:PriceWatch_Deployment""},{""id"":""Promote"",""name"":""Promote"",""templateFlag"":true,""projectName"":""<Root project>"",""projectId"":""_Root"",""href"":""/guestAuth/app/rest/BuildTypesDto/id:Promote""},{""id"":""PromoteLogInNewRelic"",""name"":""Promote: Log in NewRelic"",""templateFlag"":true,""projectName"":""<Root project>"",""projectId"":""_Root"",""href"":""/guestAuth/app/rest/BuildTypesDto/id:PromoteLogInNewRelic""}]},""parameters"":{""count"":4,""href"":""/app/rest/projects/id:_Root/parameters"",""property"":[{""name"":""fri_nuget_url"",""value"":""%nuget_publish_server%/nuget/default/"",""own"":true},{""name"":""nuget_api_key"",""value"":""ciuser:lamentabletoad"",""own"":true},{""name"":""nuget_org_url"",""value"":""https://www.nuget.org/api/v2/"",""own"":true},{""name"":""nuget_publish_server"",""value"":""http://nuget.energyhelpline.local"",""own"":true}]},""vcsRoots"":{""href"":""/guestAuth/app/rest/vcs-roots?locator=project:(id:_Root)""},""projects"":{""count"":17,""project"":[{""id"":""Admin"",""name"":""Admin"",""parentProjectId"":""_Root"",""href"":""/guestAuth/app/rest/projects/id:Admin"",""webUrl"":""http://teamcity.energyhelpline.local/project.html?projectId=Admin""},{""id"":""CallCentre"",""name"":""Call Centre"",""parentProjectId"":""_Root"",""href"":""/guestAuth/app/rest/projects/id:CallCentre"",""webUrl"":""http://teamcity.energyhelpline.local/project.html?projectId=CallCentre""},{""id"":""Consumer"",""name"":""Consumer"",""parentProjectId"":""_Root"",""href"":""/guestAuth/app/rest/projects/id:Consumer"",""webUrl"":""http://teamcity.energyhelpline.local/project.html?projectId=Consumer""},{""id"":""Core"",""name"":""Core"",""parentProjectId"":""_Root"",""href"":""/guestAuth/app/rest/projects/id:Core"",""webUrl"":""http://teamcity.energyhelpline.local/project.html?projectId=Core""},{""id"":""CustomerAccountsService"",""name"":""Customer Accounts Service"",""parentProjectId"":""_Root"",""description"":""Manages customer accounts"",""href"":""/guestAuth/app/rest/projects/id:CustomerAccountsService"",""webUrl"":""http://teamcity.energyhelpline.local/project.html?projectId=CustomerAccountsService""},{""id"":""EhlInsight"",""name"":""EHL: Insight"",""parentProjectId"":""_Root"",""href"":""/guestAuth/app/rest/projects/id:EhlInsight"",""webUrl"":""http://teamcity.energyhelpline.local/project.html?projectId=EhlInsight""},{""id"":""ExternalLookupServices"",""name"":""External Lookup Services"",""parentProjectId"":""_Root"",""href"":""/guestAuth/app/rest/projects/id:ExternalLookupServices"",""webUrl"":""http://teamcity.energyhelpline.local/project.html?projectId=ExternalLookupServices""},{""id"":""HeatCover"",""name"":""HeatCover"",""parentProjectId"":""_Root"",""description"":""Builds shared and publish to nuget"",""href"":""/guestAuth/app/rest/projects/id:HeatCover"",""webUrl"":""http://teamcity.energyhelpline.local/project.html?projectId=HeatCover""},{""id"":""InsightDataExtractor"",""name"":""Insight Data Extractor"",""parentProjectId"":""_Root"",""description"":""Creates daily csv files for clients with the data delivered via FTP"",""href"":""/guestAuth/app/rest/projects/id:InsightDataExtractor"",""webUrl"":""http://teamcity.energyhelpline.local/project.html?projectId=InsightDataExtractor""},{""id"":""InternalTools"",""name"":""Internal Tools"",""parentProjectId"":""_Root"",""href"":""/guestAuth/app/rest/projects/id:InternalTools"",""webUrl"":""http://teamcity.energyhelpline.local/project.html?projectId=InternalTools""},{""id"":""MFiMf3"",""name"":""MFi MF3"",""parentProjectId"":""_Root"",""href"":""/guestAuth/app/rest/projects/id:MFiMf3"",""webUrl"":""http://teamcity.energyhelpline.local/project.html?projectId=MFiMf3""},{""id"":""PriceWatch"",""name"":""PriceWatch"",""parentProjectId"":""_Root"",""description"":""Notify registered users when they can save above a threshold"",""href"":""/guestAuth/app/rest/projects/id:PriceWatch"",""webUrl"":""http://teamcity.energyhelpline.local/project.html?projectId=PriceWatch""},{""id"":""Reporting"",""name"":""Reporting"",""parentProjectId"":""_Root"",""description"":""Sales and Market Data Reporting"",""href"":""/guestAuth/app/rest/projects/id:Reporting"",""webUrl"":""http://teamcity.energyhelpline.local/project.html?projectId=Reporting""},{""id"":""RestApi"",""name"":""Rest API"",""parentProjectId"":""_Root"",""href"":""/guestAuth/app/rest/projects/id:RestApi"",""webUrl"":""http://teamcity.energyhelpline.local/project.html?projectId=RestApi""},{""id"":""Somb"",""name"":""SOMB"",""parentProjectId"":""_Root"",""description"":""Somb app, Somb Writer, and Somb Admin"",""href"":""/guestAuth/app/rest/projects/id:Somb"",""webUrl"":""http://teamcity.energyhelpline.local/project.html?projectId=Somb""},{""id"":""Shared"",""name"":""Shared"",""parentProjectId"":""_Root"",""description"":""Builds shared and publish to nuget"",""href"":""/guestAuth/app/rest/projects/id:Shared"",""webUrl"":""http://teamcity.energyhelpline.local/project.html?projectId=Shared""},{""id"":""Tools"",""name"":""Tools"",""parentProjectId"":""_Root"",""description"":""Various tools e.g. Confirmation Email Sender"",""href"":""/guestAuth/app/rest/projects/id:Tools"",""webUrl"":""http://teamcity.energyhelpline.local/project.html?projectId=Tools""}]}}";
        }
    }
}